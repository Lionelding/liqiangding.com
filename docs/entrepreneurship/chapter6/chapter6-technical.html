<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapter 6: Technical Architecture - AudioFlo</title>

    <!-- Favicon -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><circle cx='50' cy='50' r='50' fill='%23ff9800'/><text x='50' y='60' font-family='Arial, sans-serif' font-size='32' font-weight='bold' text-anchor='middle' fill='white'>LD</text></svg>">

    <!-- External CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="/Users/liqiangding/Code/MyCodes/liqiangding.com/docs/assets/css/main.css">

    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3Z01HR33VG"></script>
    <script src="/Users/liqiangding/Code/MyCodes/liqiangding.com/docs/assets/js/analytics.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            line-height: 1.8;
            color: #1e293b;
            background: #ffffff;
        }

        .chapter-header {
            background: linear-gradient(135deg, #fff5e6 0%, #ffe4cc 100%);
            padding: 80px 20px;
            text-align: center;
            color: #2c2c2c;
            border-bottom: 1px solid #ffe0b2;
        }

        .chapter-number {
            display: inline-block;
            width: 60px;
            height: 60px;
            background: #ff9800;
            color: white;
            border-radius: 50%;
            line-height: 60px;
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 20px;
        }

        .chapter-title {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 10px;
        }

        .chapter-subtitle {
            font-size: 1.2rem;
            color: #757575;
        }

        .content-container {
            max-width: 800px;
            margin: 60px auto;
            padding: 0 20px;
        }

        .section {
            margin-bottom: 60px;
        }

        .section-title {
            font-size: 2rem;
            color: #1e293b;
            margin-bottom: 30px;
            font-weight: 700;
            position: relative;
            padding-left: 20px;
        }

        .section-title::before {
            content: '';
            position: absolute;
            left: 0;
            top: 50%;
            transform: translateY(-50%);
            width: 4px;
            height: 100%;
            background: #ff9800;
        }

        p {
            margin-bottom: 20px;
            color: #475569;
            line-height: 1.8;
        }

        .highlight-text {
            color: #ff9800;
            font-weight: 600;
        }

        .tech-stack-diagram {
            background: #f8fafc;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            padding: 30px;
            margin: 30px 0;
            font-family: monospace;
            font-size: 0.9rem;
            overflow-x: auto;
            white-space: pre;
            line-height: 1.6;
        }

        .tech-card {
            background: linear-gradient(135deg, #f8fafc, #ffffff);
            padding: 25px;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
            margin: 20px 0;
            transition: all 0.3s ease;
        }

        .tech-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .tech-card h3 {
            color: #ff9800;
            margin-bottom: 15px;
            font-size: 1.3rem;
        }

        .tech-card h4 {
            color: #1e293b;
            margin-top: 15px;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }

        .feature-list {
            list-style: none;
            padding-left: 20px;
        }

        .feature-list li {
            margin: 10px 0;
            position: relative;
            padding-left: 25px;
        }

        .feature-list li::before {
            content: '▸';
            position: absolute;
            left: 0;
            color: #ff9800;
            font-weight: bold;
        }

        .architecture-box {
            background: #2c2c2c;
            color: white;
            padding: 30px;
            border-radius: 15px;
            margin: 40px 0;
        }

        .architecture-box h3 {
            color: #ff9800;
            font-size: 1.5rem;
            margin-bottom: 15px;
        }

        .architecture-list {
            list-style: none;
        }

        .architecture-list li {
            margin: 12px 0;
            padding-left: 25px;
            position: relative;
        }

        .architecture-list li::before {
            content: '✓';
            position: absolute;
            left: 0;
            font-weight: bold;
            color: #ff9800;
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #f8fafc, #ffffff);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid #e2e8f0;
            text-align: center;
        }

        .stat-value {
            font-size: 2rem;
            font-weight: 700;
            color: #ff9800;
            display: block;
            margin-bottom: 5px;
        }

        .stat-label {
            color: #64748b;
            font-size: 0.9rem;
        }

        code {
            background: #f1f5f9;
            padding: 2px 6px;
            border-radius: 4px;
            font-family: monospace;
            font-size: 0.9rem;
            color: #e11d48;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 80px;
            padding-top: 40px;
            border-top: 1px solid #e2e8f0;
        }

        .nav-button {
            display: flex;
            align-items: center;
            gap: 10px;
            padding: 15px 25px;
            background: white;
            border: 2px solid #e2e8f0;
            border-radius: 10px;
            text-decoration: none;
            color: #475569;
            transition: all 0.3s ease;
        }

        .nav-button:hover {
            border-color: #ff9800;
            color: #ff9800;
            transform: translateY(-2px);
        }

        .nav-button.prev {
            flex-direction: row-reverse;
        }

        .nav-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }

        .nav-title {
            font-weight: 600;
            color: #1e293b;
        }

        @media (max-width: 768px) {
            .chapter-title {
                font-size: 2rem;
            }
            .section-title {
                font-size: 1.5rem;
            }
            .stat-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>

    <!-- Navigation Config -->
    <script src="/Users/liqiangding/Code/MyCodes/liqiangding.com/docs/assets/js/navigation-config.js" defer></script>
</head>

<body>
    <!-- Navigation will be injected here by navigation-config.js -->
    <div id="nav-container"></div>

    <!-- Chapter Header -->
    <div class="chapter-header">
        <div class="chapter-number">6</div>
        <h1 class="chapter-title">Technical Architecture</h1>
        <p class="chapter-subtitle">Iterating fast and building a scalable, secure, and modern SaaS platform</p>
    </div>

    <!-- Main Content -->
    <div class="content-container">
        <!-- Chapter Outline -->
        <section class="section">
            <h2 class="section-title">Chapter Outline</h2>
            <div style="background: #f8fafc; padding: 25px; border-radius: 10px; margin: 30px 0;">
                <ul style="list-style: none; padding: 0;">
                    <li style="margin: 15px 0; padding-left: 25px; position: relative;">
                        <span style="position: absolute; left: 0; color: #ff9800; font-weight: bold;">1.</span>
                        <strong>Iterating fast</strong> - Platform overview and core principles
                    </li>
                    <li style="margin: 15px 0; padding-left: 25px; position: relative;">
                        <span style="position: absolute; left: 0; color: #ff9800; font-weight: bold;">2.</span>
                        <strong>Technology Stack</strong> - Visual architecture and system design
                    </li>
                    <li style="margin: 15px 0; padding-left: 25px; position: relative;">
                        <span style="position: absolute; left: 0; color: #ff9800; font-weight: bold;">3.</span>
                        <strong>Core Technology Decisions</strong> - Framework and infrastructure choices
                    </li>
                    <li style="margin: 15px 0; padding-left: 25px; position: relative;">
                        <span style="position: absolute; left: 0; color: #ff9800; font-weight: bold;">4.</span>
                        <strong>Architecture Patterns</strong> - Multi-tenant and credit-based systems
                    </li>
                    <li style="margin: 15px 0; padding-left: 25px; position: relative;">
                        <span style="position: absolute; left: 0; color: #ff9800; font-weight: bold;">5.</span>
                        <strong>Security & Scalability</strong> - Defense-in-depth and horizontal scaling
                    </li>
                    <li style="margin: 15px 0; padding-left: 25px; position: relative;">
                        <span style="position: absolute; left: 0; color: #ff9800; font-weight: bold;">6.</span>
                        <strong>Development Excellence</strong> - CI/CD pipeline and developer experience
                    </li>
                    <li style="margin: 15px 0; padding-left: 25px; position: relative;">
                        <span style="position: absolute; left: 0; color: #ff9800; font-weight: bold;">7.</span>
                        <strong>Future-Ready Architecture</strong> - Extensibility and evolution strategy
                    </li>
                </ul>
            </div>
        </section>

        <!-- Executive Summary -->
        <section class="section">
            <h2 class="section-title">1. Iterating fast</h2>

            <p>Understanding that speed to market was crucial, <span class="highlight-text">I deliberately chose technologies I already knew well rather than chasing the latest trends</span>. While these tools might not have been the absolute "best" according to internet forums, they allowed me to build and iterate rapidly, gathering real user feedback instead of spending months learning new frameworks. This pragmatic approach meant I could ship features in weeks instead of months.</p>

            <p>I architected the system with three core principles in mind: performance at scale, developer productivity, and cost efficiency. Every technology choice was evaluated against these criteria to ensure we could grow from hundreds to millions of users without major rewrites.</p>

        </section>

        <!-- Technology Stack Overview -->
        <section class="section">
            <h2 class="section-title">2. Technology Stack Overview</h2>

            <style>
                .hover-zoom {
                    transition: transform 0.3s ease, box-shadow 0.3s ease;
                    cursor: pointer;
                }
                .hover-zoom:hover {
                    transform: scale(2.0);
                    box-shadow: 0 8px 25px rgba(0,0,0,0.2);
                    z-index: 10;
                    position: relative;
                }
            </style>

            <figure style="margin: 30px auto; text-align: center;">
                <img src="./overview.png" alt="AudioFlo General Tech Stack Architecture" class="hover-zoom" style="width: 100%; max-width: 800px; height: auto; border-radius: 10px;">
                <figcaption style="margin-top: 15px; font-size: 0.95rem; color: #64748b; font-style: italic;">Figure 1: AudioFlo's General Tech Stack architecture (Hover over to zoom in)</figcaption>
            </figure>

            <p>The architecture centers around a web-based approach hosted on Vercel, allowing users to access AudioFlo through any browser without needing iOS or Android apps. I leveraged numerous third-party services through APIs to accelerate development, integrating payment processing, authentication, and storage solutions rather than building them from scratch. The one major component I invested significant development time in was the AI processing system on Google Cloud Platform, as this represents the core value proposition of the entire business. This focused approach allowed me to deliver a production-ready platform quickly while ensuring the audio generation quality that meets high standards from authors</p>


        </section>

        <!-- Core Components -->
        <section class="section">
            <h2 class="section-title">3. Core Technology Decisions</h2>

            <div class="tech-card">
                <div style="display: flex; align-items: flex-start; gap: 20px;">
                    <div style="flex: 1;">
                        <h3>Frontend Framework - Next.js 15 with React 19</h3>
                        <h4>Why I Chose It:</h4>
                        <ul class="feature-list">
                            <li><strong>Performance First</strong>: Server-side rendering dramatically improves initial page load times, crucial for user retention</li>
                            <li><strong>Developer Velocity</strong>: Single framework for both client-side and server-side to reduces context switching</li>
                            <li><strong>Cost Efficiency</strong>: Reduced client-side JavaScript means lower bandwidth costs at scale</li>
                            <li><strong>SEO Benefits</strong>: Essential for our marketing pages and public-facing content</li>
                        </ul>
                    </div>
                    <div style="flex-shrink: 0;">
                        <img src="./nextjs.png" alt="Next.js Framework" style="width: 80px; height: 80px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    </div>
                </div>
            </div>

            <div class="tech-card">
                <div style="display: flex; align-items: flex-start; gap: 20px;">
                    <div style="flex: 1;">
                        <h3>Database - Supabase (PostgreSQL)</h3>
                        <h4>Why I Chose It:</h4>
                        <ul class="feature-list">
                            <li><strong>Open Source</strong>: No vendor lock-in, can self-host if needed</li>
                            <li><strong>Security by Default</strong>: Row Level Security ensures data isolation</li>
                            <li><strong>Cost Effective</strong>: Generous free tier and predictable scaling costs</li>
                            <li><strong>PostgreSQL Power</strong>: Battle-tested database with advanced features</li>
                            <li><strong>Built-in Auth</strong>: Eliminates need for separate authentication service</li>
                        </ul>
                    </div>
                    <div style="flex-shrink: 0;">
                        <img src="./supabase.png" alt="Supabase Database" style="width: 80px; height: 80px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    </div>
                </div>
            </div>

            <div class="tech-card">
                <div style="display: flex; align-items: flex-start; gap: 20px;">
                    <div style="flex: 1;">
                        <h3>Payment Processing - Stripe</h3>
                        <h4>Why I Chose It:</h4>
                        <ul class="feature-list">
                            <li><strong>Industry Standard</strong>: Trusted by millions of businesses worldwide</li>
                            <li><strong>Developer-Friendly</strong>: Excellent documentation and SDKs</li>
                            <li><strong>Compliance</strong>: Handles PCI compliance and tax calculations</li>
                            <li><strong>Flexibility</strong>: Supports both subscriptions and one-time purchases</li>
                            <li><strong>Global Reach</strong>: Accepts payments from 135+ currencies</li>
                        </ul>
                    </div>
                    <div style="flex-shrink: 0;">
                        <img src="./stripe.png" alt="Stripe Payment Processing" style="width: 80px; height: 80px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    </div>
                </div>
            </div>

            <div class="tech-card">
                <div style="display: flex; align-items: flex-start; gap: 20px;">
                    <div style="flex: 1;">
                        <h3>Notification System - Resend</h3>
                        <h4>Why I Chose It:</h4>
                        <ul class="feature-list">
                            <li><strong>Deliverability</strong>: High delivery rates with proper authentication</li>
                            <li><strong>Modern API</strong>: RESTful API that's easy to integrate</li>
                            <li><strong>Cost Effective</strong>: Competitive pricing for transactional emails</li>
                            <li><strong>Simplicity</strong>: Focused on doing one thing well</li>
                        </ul>
                    </div>
                    <div style="flex-shrink: 0;">
                        <img src="./resend.png" alt="Resend Email Service" style="width: 80px; height: 80px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    </div>
                </div>
            </div>

            <div class="tech-card">
                <div style="display: flex; align-items: flex-start; gap: 20px;">
                    <div style="flex: 1;">
                        <h3>ML Processing System - Hybrid Cloud Architecture</h3>
                        <h4>Why I Chose It:</h4>
                        <ul class="feature-list">
                            <li><strong>Microservices Design</strong>: Scalable services with pub/sub messaging for job distribution</li>
                            <li><strong>Multi-Provider Integration</strong>: Seamless switching between ElevenLabs, OpenAI, and other TTS services</li>
                            <li><strong>Hybrid Infrastructure</strong>: Cloud run services for scalability, on-premise for specialized GPU workloads</li>
                            <li><strong>Resource Optimization</strong>: Job pools with CPU and GPU resources for different processing needs.</li>
                            <li><strong>Voice Cloning Pipeline</strong>: Dedicated infrastructure for custom voice generation</li>
                        </ul>
                    </div>
                    <div style="flex-shrink: 0;">
                        <img src="./gcp.png" alt="Google Cloud Platform" style="width: 80px; height: 80px; border-radius: 8px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                    </div>
                </div>
            </div>
        </section>

        <!-- Architecture Patterns -->
        <section class="section">
            <h2 class="section-title">4. Architecture Features</h2>

            <div class="architecture-box">
                <h3>Multi-Tenant Architecture</h3>
                <ul class="architecture-list">
                    <li>Team-based isolation with dedicated workspaces</li>
                    <li>Granular role-based permissions (owner, admin, member, viewer)</li>
                    <li>Resource sharing for collections and voices within teams</li>
                </ul>
            </div>

            <div class="architecture-box">
                <h3>Credit-Based Usage Model</h3>
                <ul class="architecture-list">
                    <li>Dual credit system: monthly plan credits and purchased addon credits</li>
                    <li>Smart consumption algorithm uses plan credits first</li>
                    <li>Detailed usage analytics per conversion</li>
                </ul>
            </div>

            <div class="architecture-box">
                <h3>Asynchronous Processing</h3>
                <ul class="architecture-list">
                    <li>Job queue system for long-running conversions</li>
                    <li>Webhook callbacks for external service notifications</li>
                    <li>Automatic retry with exponential backoff</li>
                </ul>
            </div>
        </section>

        <!-- Security & Scale -->
        <section class="section">
            <h2 class="section-title">5. Security & Scalability</h2>

            <p>I implemented a <span class="highlight-text">defense-in-depth security strategy</span> with multiple layers of protection:</p>

            <ul class="feature-list">
                <li><strong>Application Layer</strong>: Input validation and sanitization</li>
                <li><strong>API Layer</strong>: Authentication and authorization checks</li>
                <li><strong>Database Layer</strong>: Row Level Security policies</li>
                <li><strong>Infrastructure Layer</strong>: SSL/TLS encryption everywhere</li>
            </ul>

            <p>
                AudioFlo achieves scalability through Vercel's serverless architecture, where Next.js functions scale automatically
                based on demand. The platform maintains no server-side session state, enabling unlimited horizontal scaling. <br><br>

                Vercel's global CDN (powered by Cloudflare) automatically caches and serves static assets, Server Component outputs,
                and API responses from 100+ edge locations. Database scalability is handled by Supabase's built-in connection
                pooler (pgBouncer) and read replicas, supporting thousands of concurrent connections without manual configuration.            
            </p>

            <p>This architecture eliminates the traditional scaling bottlenecks that plague many SaaS platforms. I don't need to provision servers, configure load balancers, or worry about traffic spikes during marketing campaigns. When demand increases, Vercel automatically spins up additional serverless functions, Supabase handles database scaling through its connection pooler, and the CDN serves cached content from the nearest edge location. This means AudioFlo can handle everything from 10 users to 10,000 concurrent users without any manual intervention or infrastructure changes on my part.</p>

            <div class="stat-grid">
                <div class="stat-card">
                    <span class="stat-value">&lt;150ms</span>
                    <span class="stat-label">API Response Time</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value">99.95%</span>
                    <span class="stat-label">Uptime SLA</span>
                </div>
                <div class="stat-card">
                    <span class="stat-value">Zero</span>
                    <span class="stat-label">Downtime Deployments</span>
                </div>
            </div>
        </section>

        <!-- Development Workflow -->
        <section class="section">
            <h2 class="section-title">6. Development Excellence</h2>

            <p>I established a robust development workflow that ensures code quality while maintaining rapid iteration speed:</p>

            <div class="tech-card">
                <h4>CI/CD Pipeline</h4>
                <ul class="feature-list">
                    <li>Automated testing on every commit with Playwright</li>
                    <li>Preview deployments for each pull request</li>
                    <li>Staging environment for production-like testing</li>
                    <li>Zero-downtime deployments with health checks</li>
                </ul>
            </div>

            <div class="tech-card">
                <h4>Developer Experience</h4>
                <ul class="feature-list">
                    <li>Comprehensive documentation and inline comments</li>
                    <li>Docker-based local development environment</li>
                </ul>
            </div>
        </section>

        <!-- Future Ready -->
        <section class="section">
            <h2 class="section-title">7. Future-Ready Architecture</h2>

            <p>I designed the architecture to embrace <span class="highlight-text">modular design principles</span> at every level, ensuring each component operates independently with well-defined interfaces. This makes it simple for me to swap implementations, add new features, or scale specific services without disrupting the entire system. My API-first approach ensures seamless integration when I eventually build mobile applications, connect third-party services, or develop future platform extensions. I can enable or disable features for different user segments based on their specific needs without affecting the core system functionality.</p>

            <p>This thoughtful architecture positions AudioFlo as a technical leader in the audio conversion space, ready to scale with my business growth and evolve with changing customer needs. I've built a solid foundation using cutting-edge technologies combined with proven architectural patterns, giving me confidence that the platform can handle whatever challenges and opportunities lie ahead. The flexibility I've built into the system means I can respond quickly to market feedback and pivot features without major rewrites.</p>
        </section>



        <!-- Navigation -->
        <div class="nav-buttons">
            <a href="../chapter5/chapter5-voice.html" class="nav-button prev">
                <span>‹</span>
                <div>
                    <div class="nav-label">Previous Chapter</div>
                    <div class="nav-title">AI Voices with Human Touch</div>
                </div>
            </a>
            <a href="../chapter7/chapter7-ai.html" class="nav-button next">
                <div>
                    <div class="nav-label">Next Chapter</div>
                    <div class="nav-title">Agentic AI System</div>
                </div>
                <span>›</span>
            </a>
        </div>
    </div>
</body>

</html>